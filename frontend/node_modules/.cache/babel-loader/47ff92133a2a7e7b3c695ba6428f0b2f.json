{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import _toConsumableArray from\"/Users/imanul/Workspace/MERN/Pharmacy/Pharmacy-Management-Application/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/imanul/Workspace/MERN/Pharmacy/Pharmacy-Management-Application/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"../styles/ProductScreen.css\";import{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";// Actions\nimport{getProductDetails}from\"../redux/actions/productActions\";import{addToCart}from\"../redux/actions/cartActions\";var ProductScreen=function ProductScreen(_ref){var match=_ref.match,history=_ref.history;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.getProductDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){if(product&&match.params.id!==product._id){dispatch(getProductDetails(match.params.id));}},[dispatch,match,product]);var addToCartHandler=function addToCartHandler(){dispatch(addToCart(product._id,qty));history.push(\"/cart\");};return/*#__PURE__*/_jsx(\"div\",{className:\"productscreen\",children:loading?/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"h2\",{children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"productscreen__left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left__image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.imgsrc,alt:product.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"left__info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"left__name\",children:product.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Price:\"}),\" \\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Indiaction:\"}),\" \",product.indication]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Dosage:\"}),\" \",product.indication]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"bold\",fontSize:\"14px\"},children:\"Side Effects:\"}),\" \",product.dosage]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"productscreen__right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"right__info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Price:\",/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",product.price]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status:\",/*#__PURE__*/_jsx(\"span\",{children:product.countInStock>0?\"In Stock\":\"Out of Stock\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Qty\",/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addToCartHandler,children:\"Add To Cart\"})})]})})]})});};export default ProductScreen;","map":{"version":3,"sources":["/Users/imanul/Workspace/MERN/Pharmacy/Pharmacy-Management-Application/frontend/src/screens/ProductScreen.js"],"names":["useState","useEffect","useSelector","useDispatch","getProductDetails","addToCart","ProductScreen","match","history","qty","setQty","dispatch","productDetails","state","loading","error","product","params","id","_id","addToCartHandler","push","imgsrc","title","fontWeight","fontSize","price","indication","dosage","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import \"../styles/ProductScreen.css\";\nimport { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\n// Actions\nimport { getProductDetails } from \"../redux/actions/productActions\";\nimport { addToCart } from \"../redux/actions/cartActions\";\n\nconst ProductScreen = ({ match, history }) => {\n  const [qty, setQty] = useState(1);\n  const dispatch = useDispatch();\n\n  const productDetails = useSelector((state) => state.getProductDetails);\n  const { loading, error, product } = productDetails;\n\n  useEffect(() => {\n    if (product && match.params.id !== product._id) {\n      dispatch(getProductDetails(match.params.id));\n    }\n  }, [dispatch, match, product]);\n\n  const addToCartHandler = () => {\n    dispatch(addToCart(product._id, qty));\n    history.push(`/cart`);\n  };\n\n  return (\n    <div className=\"productscreen\">\n      {loading ? (\n        <h2>Loading...</h2>\n      ) : error ? (\n        <h2>{error}</h2>\n      ) : (\n        <>\n          <div className=\"productscreen__left\">\n            <div className=\"left__image\">\n              <img src={product.imgsrc} alt={product.title} />\n            </div>\n            <div className=\"left__info\">\n              <p className=\"left__name\">{product.title}</p>\n              <p> <span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Price:</span> ₹{product.price}</p>\n              <p ><span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Indiaction:</span> {product.indication}</p>\n              <p> <span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Dosage:</span> {product.indication}</p>\n              <p> <span style={{fontWeight: \"bold\",fontSize:\"14px\"}}>Side Effects:</span> {product.dosage}</p>\n            </div>\n          </div>\n          <div className=\"productscreen__right\">\n            <div className=\"right__info\">\n              <p>\n                Price:\n                <span>₹{product.price}</span>\n              </p>\n              <p>\n                Status:\n                <span>\n                  {product.countInStock > 0 ? \"In Stock\" : \"Out of Stock\"}\n                </span>\n              </p>\n              <p>\n                Qty\n                <select value={qty} onChange={(e) => setQty(e.target.value)}>\n                  {[...Array(product.countInStock).keys()].map((x) => (\n                    <option key={x + 1} value={x + 1}>\n                      {x + 1}\n                    </option>\n                  ))}\n                </select>\n              </p>\n              <p>\n                <button type=\"button\" onClick={addToCartHandler}>\n                  Add To Cart\n                </button>\n              </p>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ProductScreen;\n"]},"metadata":{},"sourceType":"module"}